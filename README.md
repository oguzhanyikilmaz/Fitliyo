# Fitliyo

**Spor & Sağlık Koçluğu Marketplace Platformu** — Personal trainer, diyetisyen, basketbol/futbol ve diğer spor koçlarını öğrencilerle buluşturan çok taraflı marketplace.

## About this solution

This is a layered startup solution based on [Domain Driven Design (DDD)](https://abp.io/docs/latest/framework/architecture/domain-driven-design) practises using ABP Framework (Tiered Application template).

### Tech Stack

| Component | Technology |
|-----------|-----------|
| Backend | .NET 9 + ABP Framework |
| Database | PostgreSQL 16 |
| Cache | Redis |
| File Storage | AWS S3 / Azure Blob |
| Payment | iyzico + Stripe |
| Real-time | SignalR |
| Email | SendGrid |
| Push | Firebase (FCM) |
| Web Frontend | Next.js 15 (separate repo) |
| Mobile | React Native + Expo (separate repo) |

### Pre-requirements

* [.NET 10.0+ SDK](https://dotnet.microsoft.com/download/dotnet)
* [Node v20.11+](https://nodejs.org/en)
* [PostgreSQL 16](https://www.postgresql.org/)
* [Redis](https://redis.io/)

### Configurations

The solution comes with a default configuration that works out of the box. However, you may consider to change the following configuration before running your solution:

* Check the `ConnectionStrings` in `appsettings.json` files under the `Fitliyo.Web` and `Fitliyo.DbMigrator` projects and change it if you need.

### Before running the application

#### Generating a Signing Certificate

In the production environment, you need to use a production signing certificate. ABP Framework sets up signing and encryption certificates in your application and expects an `openiddict.pfx` file in your application.

This certificate is already generated by ABP CLI, so most of the time you don't need to generate it yourself. However, if you need to generate a certificate, you can use the following command:

```bash
dotnet dev-certs https -v -ep openiddict.pfx -p 5322442f-184c-4f86-acc4-f7610046737d
```

#### Install Client-Side Libraries

Run the following command in the directory of your final application:

```bash
abp install-libs
```

#### Create the Database

Run `Fitliyo.DbMigrator` to create the initial database. This should be done in the first run. It is also needed if a new database migration is added to the solution later.

### Solution structure

This is a layered monolith application that consists of the following applications:

* `Fitliyo.DbMigrator`: A console application which applies the migrations and also seeds the initial data.
* `Fitliyo.Web`: ASP.NET Core MVC / Razor Pages application that is the essential web application of the solution.

### Module Architecture

| # | Module | Scope |
|---|--------|-------|
| 1 | TrainerModule | Profile, certificates, gallery, availability |
| 2 | PackageModule | Package types, pricing, calendar templates |
| 3 | OrderModule | Orders, session records, cancellation/refund |
| 4 | PaymentModule | Payment, escrow, wallet, withdrawals |
| 5 | SubscriptionModule | Trainer subscription plans, auto-renewal |
| 6 | MessagingModule | Conversations, messages, SignalR |
| 7 | ReviewModule | Reviews, rating calculations |
| 8 | NotificationModule | In-app, email, push notifications |
| 9 | ContentModule | Blog, categories, SEO |
| 10 | AdminModule | Reports, moderation, support |

### Documentation

Full documentation is available at [`docs/README.md`](docs/README.md).

### Deploying the application

Deploying an ABP application is not different than deploying any .NET or ASP.NET Core application. You can check ABP's [Deployment documentation](https://abp.io/docs/latest/deployment) before deploying your application.
