---
description: "Frontend ekibini etkileyen deÄŸiÅŸikliklerin otomatik takip kuralÄ± ve standart formatÄ±"
globs:
alwaysApply: true
---

# Frontend DeÄŸiÅŸiklik Takip Sistemi (ZORUNLU)

## Temel Kural

**Her commit'te** **Next.js frontend ekibini** etkileyen bir deÄŸiÅŸiklik varsa, `docs/frontend-changes/` klasÃ¶rÃ¼ne ayrÄ± bir dosya olarak **zorunlu** eklenir.

**KAPSAM (KRÄ°TÄ°K):** Bu klasÃ¶r **YALNIZCA Next.js frontend ekibini ilgilendiren** API/DTO/SignalR deÄŸiÅŸiklikleri iÃ§indir.

Commit'ten sonra ÅŸu soru sorulmalÄ±:
> "Bu deÄŸiÅŸiklik **Next.js frontend'ini** etkiliyor mu?"
> Evet ise â†’ yeni dosya oluÅŸturulur + index gÃ¼ncellenir.

### Bu klasÃ¶re EKLENMEyecek deÄŸiÅŸiklikler:
- MVC Razor Pages (`.cshtml`, `.cshtml.cs`) deÄŸiÅŸiklikleri
- MVC JavaScript dosyalarÄ± (`src/Fitliyo.Web/Pages/**/*.js`) deÄŸiÅŸiklikleri
- Sadece backend iÃ§ yapÄ± deÄŸiÅŸiklikleri (refactoring, cache, Hangfire job altyapÄ±sÄ±)
- Sadece backend'i etkileyen permission/kod dÃ¼zeltmeleri
- Backend kod kalitesi iyileÅŸtirmeleri (nullable, naming, unused import)

### Bu klasÃ¶re EKLENECEK deÄŸiÅŸiklikler:
- Next.js'in tÃ¼kettiÄŸi API endpoint deÄŸiÅŸiklikleri (yeni/deÄŸiÅŸen/silinen)
- DTO/Model deÄŸiÅŸiklikleri (alan ekleme/silme/tip deÄŸiÅŸimi)
- Response format deÄŸiÅŸiklikleri
- Yeni SignalR channel/event tanÄ±mlarÄ±
- Permission string deÄŸiÅŸiklikleri (Next.js'te kullanÄ±lan)
- Dinamik alan eklemeleri (SetProperty, ExtraProperties)
- Error format deÄŸiÅŸiklikleri

## KlasÃ¶r YapÄ±sÄ±

```
docs/frontend-changes/
â”œâ”€â”€ README.md                          # Index + format standardÄ±
â”œâ”€â”€ _archive-before-2026-02-18.md      # Eski giriÅŸler (tek dosya dÃ¶nemi)
â”œâ”€â”€ 2026-02-18-1.md                    # Her giriÅŸ ayrÄ± dosya
â”œâ”€â”€ 2026-02-18-2.md
â””â”€â”€ ...
```

## Dosya AdÄ± FormatÄ± (ZORUNLU)

```
YYYY-MM-DD-N.md
```

- `YYYY-MM-DD`: Tarih (ISO 8601)
- `N`: O gÃ¼n iÃ§indeki sÄ±ra numarasÄ± (1'den baÅŸlar)

**SÄ±ra numarasÄ± belirleme:** `docs/frontend-changes/` klasÃ¶rÃ¼ndeki mevcut dosyalarÄ± kontrol et. AynÄ± tarihteki en son N'yi bul, +1 yap.

**Ã–rnekler:**
- `2026-02-18-1.md` â†’ 18 Åubat'Ä±n 1. giriÅŸi
- `2026-02-18-2.md` â†’ 18 Åubat'Ä±n 2. giriÅŸi
- `2026-02-19-1.md` â†’ 19 Åubat'Ä±n 1. giriÅŸi

## Dosya Ä°Ã§erik Åablonu (ZORUNLU)

Her `YYYY-MM-DD-N.md` dosyasÄ± ÅŸu yapÄ±da olmalÄ±:

```markdown
# [BADGE] KÄ±sa BaÅŸlÄ±k

- **ID**: YYYY-MM-DD-N
- **Tarih**: YYYY-MM-DD
- **Etkilenen**: endpoint / DTO / permission listesi
- **DeÄŸiÅŸiklik Tipi**: Badge + aÃ§Ä±klama
- **AÃ§Ä±klama**: Ne deÄŸiÅŸti (kÄ±sa ve net)
- **Ä°stemcinin YapmasÄ± Gerekenler**: Aksiyon adÄ±mlarÄ± veya "Yok â€” backend tarafÄ±nda tamamlandÄ±."
- **Detaylar**: [Ä°lgili DokÃ¼man](../dosya.md) (varsa)

---

(Gerekirse ek aÃ§Ä±klamalar, tablo, endpoint geÃ§iÅŸ tablosu, Ã¶rnek request/response)
```

## DeÄŸiÅŸiklik Tipi Badge'leri

| Badge | AnlamÄ± | AÃ§Ä±klama |
|-------|--------|----------|
| `âš ï¸ BREAKING` | Breaking Change | Frontend'in kod deÄŸiÅŸtirmesi ZORUNLU |
| `ğŸŸ¢ NON-BREAKING` | Non-breaking | Frontend'in bir ÅŸey yapmasÄ±na gerek yok |
| `ğŸ› BUG FIX` | Hata dÃ¼zeltme | Mevcut bir sorun giderildi |
| `ğŸ“„ DOKÃœMAN` | Sadece dokÃ¼mantasyon | Yeni iÅŸ planÄ±, API dokÃ¼manÄ± vb. |
| `ğŸ”§ ALTYAPI` | AltyapÄ± deÄŸiÅŸikliÄŸi | Deployment, CI/CD, config |

## Yeni GiriÅŸ Ekleme AdÄ±mlarÄ± (ZORUNLU)

1. `docs/frontend-changes/` klasÃ¶rÃ¼nde aynÄ± tarihteki son dosyayÄ± bul
2. SÄ±ra numarasÄ±nÄ± +1 yap â†’ yeni dosya adÄ±: `YYYY-MM-DD-N.md`
3. Åablona uygun dosyayÄ± oluÅŸtur
4. `docs/frontend-changes/README.md` index listesinin **en Ã¼stÃ¼ne** yeni giriÅŸi ekle
5. `docs/CHANGELOG.md` gÃ¼ncelle (Ã¶zet + link)

## Hangi DeÄŸiÅŸiklikler Takip Edilir?

**Kriter:** "Next.js frontend kodu bu deÄŸiÅŸiklik yÃ¼zÃ¼nden gÃ¼ncellenmeli mi?"

| DeÄŸiÅŸiklik TÃ¼rÃ¼ | Ã–rnek | Takip edilir mi? |
|------------------|-------|------------------|
| Yeni API endpoint | `POST /api/app/service-package` | âœ… Evet |
| Endpoint deÄŸiÅŸikliÄŸi | Route, method, response format | âœ… Evet |
| Endpoint kaldÄ±rma | Deprecated endpoint silindi | âœ… Evet |
| DTO alan ekleme/silme | `UserDto`'ya/dan alan eklendi/kaldÄ±rÄ±ldÄ± | âœ… Evet |
| DTO alan tipi deÄŸiÅŸimi | `string` â†’ `Guid` | âœ… Evet |
| Response format deÄŸiÅŸimi | DÃ¼z string â†’ JSON objesi | âœ… Evet |
| Yeni SignalR channel/event | `SgkImportProgress` event eklendi | âœ… Evet |
| Permission string deÄŸiÅŸimi | Next.js'te kullanÄ±lan permission | âœ… Evet |
| Dinamik alan ekleme | `SetProperty()` ile eklenen alanlar | âœ… Evet |
| Error format deÄŸiÅŸimi | Hata kodu/mesajÄ± deÄŸiÅŸikliÄŸi | âœ… Evet |
| Yeni frontend iÅŸ planÄ± | `docs/*_FRONTEND_PLANI.md` | âœ… Evet |
| MVC Razor Pages deÄŸiÅŸikliÄŸi | `.cshtml`, `.cshtml.cs` dÃ¼zenleme | âŒ HayÄ±r |
| MVC JavaScript deÄŸiÅŸikliÄŸi | `src/Fitliyo.Web/Pages/**/*.js` | âŒ HayÄ±r |
| Backend iÃ§ yapÄ± | Refactoring, cache, Hangfire altyapÄ± | âŒ HayÄ±r |
| Backend kod kalitesi | Nullable fix, naming, unused import | âŒ HayÄ±r |
| Sadece backend permission fix | MVC JS'teki permission string dÃ¼zeltmesi | âŒ HayÄ±r |

## Commit SonrasÄ± Kontrol Listesi

1. Bu commit **Next.js frontend'ini** etkiliyor mu? (MVC deÄŸiÅŸiklikleri sayÄ±lmaz!)
2. Evet ise â†’ `docs/frontend-changes/YYYY-MM-DD-N.md` oluÅŸturuldu mu?
3. `docs/frontend-changes/README.md` index gÃ¼ncellendi mi?
4. Badge doÄŸru mu? (breaking/non-breaking/bug fix)
5. "Ä°stemcinin YapmasÄ± Gerekenler" bÃ¶lÃ¼mÃ¼ net mi?
6. `docs/CHANGELOG.md` da gÃ¼ncellendi mi?

## Referanslar

- [`docs/frontend-changes/README.md`](../../docs/frontend-changes/README.md) â€” Index ve format standardÄ±
- [`docs/frontend-changes/_archive-before-2026-02-18.md`](../../docs/frontend-changes/_archive-before-2026-02-18.md) â€” Eski giriÅŸler
- [`docs/BACKEND_CHANGES_FOR_FRONTEND_TEAM.md`](../../docs/BACKEND_CHANGES_FOR_FRONTEND_TEAM.md) â€” YÃ¶nlendirme dosyasÄ±
- [`.cursor/rules/documentation-rules.mdc`](documentation-rules.mdc) â€” BÃ¶lÃ¼m 11
